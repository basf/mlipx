schema: '2.0'
stages:
  initialize_LoadDataFile:
    cmd: zntrack run mlipx.nodes.io.LoadDataFile --name initialize_LoadDataFile
    deps:
    - path: ../data/DODH_adsorption_dft.xyz
      hash: md5
      md5: fd972b8de5a22be3fc281d36f46de3e7
      size: 1096734
      isexec: true
    params:
      params.yaml:
        initialize_LoadDataFile:
          start: 0
          step: 1
          stop:
    outs:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
  7net_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      7net_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        7net_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/7net/StructureOptimization/frames.traj
      hash: md5
      md5: 69cc31334a8281486ae4d0a5f7430bc8
      size: 40318
      isexec: true
    - path: nodes/7net/StructureOptimization/node-meta.json
      hash: md5
      md5: b8fdcba44f0a290061310e414a72a32d
      size: 64
      isexec: true
    - path: nodes/7net/StructureOptimization/plots.csv
      hash: md5
      md5: 8d40a16c4adba3bc5b5f98d40b65dbe6
      size: 331
      isexec: true
  mace_agne_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_agne_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        mace_agne_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_agnesi.model
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_agne/StructureOptimization/frames.traj
      hash: md5
      md5: 0951b0c8cbb3d7c71c30cb5544183ec2
      size: 253031
      isexec: true
    - path: nodes/mace_agne/StructureOptimization/node-meta.json
      hash: md5
      md5: a5bf49d1ab09f4d87ccde783b730fd9b
      size: 64
      isexec: true
    - path: nodes/mace_agne/StructureOptimization/plots.csv
      hash: md5
      md5: d299935ce0dd18ab4bf6f9867d4c26c9
      size: 2227
      isexec: true
  mace_large_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_large_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        mace_large_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/43117273-large.model
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_large/StructureOptimization/frames.traj
      hash: md5
      md5: c1b4e96446799706fb50794afc58bdf9
      size: 99815
      isexec: true
    - path: nodes/mace_large/StructureOptimization/node-meta.json
      hash: md5
      md5: 39007f7d6c9d9274646c643ca7ab3116
      size: 64
      isexec: true
    - path: nodes/mace_large/StructureOptimization/plots.csv
      hash: md5
      md5: 6bb46f77a23ece166cf60836628b9be4
      size: 929
      isexec: true
  mace_medm_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_medm_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        mace_medm_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: MACECalculator
            device: auto
            kwargs:
              model_paths: ../models/mace_medium.model
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_medm/StructureOptimization/frames.traj
      hash: md5
      md5: 7c6b8d3fdd4e86cdd3b20ff4a68c33f0
      size: 257539
      isexec: true
    - path: nodes/mace_medm/StructureOptimization/node-meta.json
      hash: md5
      md5: 863863b81eec7dd770199962d369d986
      size: 64
      isexec: true
    - path: nodes/mace_medm/StructureOptimization/plots.csv
      hash: md5
      md5: f7ada8d0625433e77b6434e092f8342c
      size: 2264
      isexec: true
  orb_d3_v1_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      orb_d3_v1_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        orb_d3_v1_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: models.OrbCalc
            name: orb_d3_v1
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/orb_d3_v1/StructureOptimization/frames.traj
      hash: md5
      md5: 91ea48dbbcb9d333e2943ff0710ff43f
      size: 18913
      isexec: true
    - path: nodes/orb_d3_v1/StructureOptimization/node-meta.json
      hash: md5
      md5: 9137519a57202b3901c31d3f4f4f4c8a
      size: 64
      isexec: true
    - path: nodes/orb_d3_v1/StructureOptimization/plots.csv
      hash: md5
      md5: a44f32dae59c72f8bd694667c9140789
      size: 172
      isexec: true
  orb_d3_v2_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      orb_d3_v2_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        orb_d3_v2_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: models.OrbCalc
            name: orb_d3_v2
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/orb_d3_v2/StructureOptimization/frames.traj
      hash: md5
      md5: 8902a4b2a39713719bed2860c5864ab1
      size: 22448
      isexec: true
    - path: nodes/orb_d3_v2/StructureOptimization/node-meta.json
      hash: md5
      md5: 857a902f6878ebcebb93ef7a0858ef7a
      size: 64
      isexec: true
    - path: nodes/orb_d3_v2/StructureOptimization/plots.csv
      hash: md5
      md5: 820f23d696ebac907d68a29979d27aa9
      size: 207
      isexec: true
  orb_v1_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      orb_v1_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        orb_v1_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: models.OrbCalc
            name: orb_v1
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/orb_v1/StructureOptimization/frames.traj
      hash: md5
      md5: 98e8c92ecdc3bbf04dfb6805b5bc451a
      size: 33100
      isexec: true
    - path: nodes/orb_v1/StructureOptimization/node-meta.json
      hash: md5
      md5: 8951e73c53b599f14d38c01a4516e395
      size: 64
      isexec: true
    - path: nodes/orb_v1/StructureOptimization/plots.csv
      hash: md5
      md5: 64eab4e5acee87cc50429fb84fb6df5c
      size: 306
      isexec: true
  orb_v1_mptraj_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      orb_v1_mptraj_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        orb_v1_mptraj_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: models.OrbCalc
            name: orb_v1_mptraj_only
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/orb_v1_mptraj/StructureOptimization/frames.traj
      hash: md5
      md5: 30596f58e0f3b6ce7d2c16df08d566dc
      size: 33091
      isexec: true
    - path: nodes/orb_v1_mptraj/StructureOptimization/node-meta.json
      hash: md5
      md5: 1c44f02f6c443a33dd035dc8b6ac6cd9
      size: 64
      isexec: true
    - path: nodes/orb_v1_mptraj/StructureOptimization/plots.csv
      hash: md5
      md5: b97a8fbd2cfcf14abd1a5dfdeb8e5b57
      size: 308
      isexec: true
  orb_v2_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      orb_v2_StructureOptimization
    deps:
    - path: nodes/initialize/LoadDataFile/node-meta.json
      hash: md5
      md5: 766849267252baed77f49c8b3ea142e1
      size: 64
      isexec: true
    params:
      params.yaml:
        orb_v2_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: models.OrbCalc
            name: orb_v2
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/orb_v2/StructureOptimization/frames.traj
      hash: md5
      md5: af1e98d816625691129eb0bbb96364c2
      size: 36653
    - path: nodes/orb_v2/StructureOptimization/node-meta.json
      hash: md5
      md5: b50151fe1cdd48298ca0c38f711bc547
      size: 64
    - path: nodes/orb_v2/StructureOptimization/plots.csv
      hash: md5
      md5: 3191e2d3ed2d0befae6d5008da871c07
      size: 335
  initialize_Smiles2Conformers:
    cmd: zntrack run mlipx.nodes.smiles.Smiles2Conformers --name initialize_Smiles2Conformers
    params:
      params.yaml:
        initialize_Smiles2Conformers:
          max_attempts: 1000
          num_confs: 1
          random_seed: 42
          smiles: CCO
    outs:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: f2aa9aaa4c216155e3cbbf82fdbe2f53
      size: 531
    - path: nodes/initialize/Smiles2Conformers/node-meta.json
      hash: md5
      md5: 4e1cf2faa54ff25431034f669a84e4c5
      size: 64
  sevennet_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      sevennet_0_StructureOptimization
    deps:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: f2aa9aaa4c216155e3cbbf82fdbe2f53
      size: 531
    params:
      params.yaml:
        sevennet_0_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/sevennet/0/StructureOptimization/frames.traj
      hash: md5
      md5: c1de12b7801d6991b1938ee6ebd2d40e
      size: 7496
    - path: nodes/sevennet/0/StructureOptimization/node-meta.json
      hash: md5
      md5: 01789529d77203957c3a4d724b0e3ba4
      size: 64
    - path: nodes/sevennet/0/StructureOptimization/plots.csv
      hash: md5
      md5: b0be78b5140d70e25c69f985af2f7519
      size: 272
  initialize_Smiles2Conformers_1:
    cmd: zntrack run mlipx.nodes.smiles.Smiles2Conformers --name initialize_Smiles2Conformers_1
    params:
      params.yaml:
        initialize_Smiles2Conformers_1:
          max_attempts: 1000
          num_confs: 1
          random_seed: 42
          smiles: C1=CC2=C(C=C1O)C(=CN2)CCN
    outs:
    - path: nodes/initialize/Smiles2Conformers_1/frames.xyz
      hash: md5
      md5: 0f763baa30d3347172feded92fbe22ef
      size: 1396
    - path: nodes/initialize/Smiles2Conformers_1/node-meta.json
      hash: md5
      md5: 409e1947357de89b65a8d9b49e05292d
      size: 64
  mace_mp_1_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_mp_1_StructureOptimization
    deps:
    - path: nodes/initialize/Smiles2Conformers_1/frames.xyz
      hash: md5
      md5: 0f763baa30d3347172feded92fbe22ef
      size: 1396
    params:
      params.yaml:
        mace_mp_1_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_mp/1/StructureOptimization/frames.traj
      hash: md5
      md5: 5c953c215003ee8cdae31427a0388b85
      size: 38975
    - path: nodes/mace_mp/1/StructureOptimization/node-meta.json
      hash: md5
      md5: 538316d58600a6204b2a13dcfb7b3e81
      size: 64
    - path: nodes/mace_mp/1/StructureOptimization/plots.csv
      hash: md5
      md5: 6060d806ae24a43bbaa2d4e835523681
      size: 934
  mace_mp_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      mace_mp_0_StructureOptimization
    deps:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: f2aa9aaa4c216155e3cbbf82fdbe2f53
      size: 531
    params:
      params.yaml:
        mace_mp_0_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: mace_mp
            device: auto
            kwargs:
              model: medium
            module: mace.calculators
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/mace_mp/0/StructureOptimization/frames.traj
      hash: md5
      md5: 8680c714d0052fc0dd00758bd2f31489
      size: 32784
    - path: nodes/mace_mp/0/StructureOptimization/node-meta.json
      hash: md5
      md5: 875837d4f8abbb500d458a3f96552ba6
      size: 64
    - path: nodes/mace_mp/0/StructureOptimization/plots.csv
      hash: md5
      md5: 48c7694387cacad11c97d7161b65c90e
      size: 1350
  sevennet_1_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      sevennet_1_StructureOptimization
    deps:
    - path: nodes/initialize/Smiles2Conformers_1/frames.xyz
      hash: md5
      md5: 0f763baa30d3347172feded92fbe22ef
      size: 1396
    params:
      params.yaml:
        sevennet_1_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: mlipx.nodes.generic_ase.GenericASECalculator
            class_name: SevenNetCalculator
            device: auto
            kwargs:
              model: 7net-0
            module: sevenn.sevennet_calculator
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/sevennet/1/StructureOptimization/frames.traj
      hash: md5
      md5: a540361fa2e892421840f30b4442d9a9
      size: 41310
    - path: nodes/sevennet/1/StructureOptimization/node-meta.json
      hash: md5
      md5: cfb660ca15486f2638b3229cb84b4281
      size: 64
    - path: nodes/sevennet/1/StructureOptimization/plots.csv
      hash: md5
      md5: 35ed64606cdb0714960bba869aeb9bd9
      size: 893
  orb_v2_1_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      orb_v2_1_StructureOptimization
    deps:
    - path: nodes/initialize/Smiles2Conformers_1/frames.xyz
      hash: md5
      md5: 0f763baa30d3347172feded92fbe22ef
      size: 1396
    params:
      params.yaml:
        orb_v2_1_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: models.OrbCalc
            device: auto
            name: orb_v2
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/orb_v2/1/StructureOptimization/frames.traj
      hash: md5
      md5: 3400fc2a5f6349725f6c9250e3159493
      size: 32127
    - path: nodes/orb_v2/1/StructureOptimization/node-meta.json
      hash: md5
      md5: 21cad0243a40e1a5e1ab59c44edfb937
      size: 64
    - path: nodes/orb_v2/1/StructureOptimization/plots.csv
      hash: md5
      md5: 9f617e55e51091f50295e30287721f22
      size: 772
  orb_v2_0_StructureOptimization:
    cmd: zntrack run mlipx.nodes.structure_optimization.StructureOptimization --name
      orb_v2_0_StructureOptimization
    deps:
    - path: nodes/initialize/Smiles2Conformers/frames.xyz
      hash: md5
      md5: f2aa9aaa4c216155e3cbbf82fdbe2f53
      size: 531
    params:
      params.yaml:
        orb_v2_0_StructureOptimization:
          data_id: -1
          fmax: 0.1
          model:
            _cls: models.OrbCalc
            device: auto
            name: orb_v2
          optimizer: LBFGS
          steps: 100000000
    outs:
    - path: nodes/orb_v2/0/StructureOptimization/frames.traj
      hash: md5
      md5: 8fc9927af6d55d3076b456dbd3704563
      size: 6140
    - path: nodes/orb_v2/0/StructureOptimization/node-meta.json
      hash: md5
      md5: 24b0d92a76ad6e48b19a88c2d73ac262
      size: 64
    - path: nodes/orb_v2/0/StructureOptimization/plots.csv
      hash: md5
      md5: dd5a400b203e8be70e256a13969a7fdc
      size: 243
